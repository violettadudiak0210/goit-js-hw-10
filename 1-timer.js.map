{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport { refs, convertMs } from \"./storage\"; \nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nflatpickr(refs.input, refs.options);\n\nlet countdownInterval;\n\nrefs.btn.setAttribute(\"disabled\", true);\n\nrefs.btn.addEventListener(\"click\", () => {\n    const selectedDate = refs.options.userSelectedDate;\n\n    if (!selectedDate || selectedDate.getTime() <= Date.now()) {\n        refs.btn.setAttribute(\"disabled\", true);\n        return;\n    }\n\n    refs.btn.setAttribute(\"disabled\", true);\n    refs.input.setAttribute(\"disabled\", true);\n    refs.btn.style.pointerEvents = \"none\";\n\n    countdownInterval = setInterval(() => {\n        const now = new Date().getTime();\n        const ms = selectedDate - now;\n\n        if (ms <= 0) {\n            clearInterval(countdownInterval);\n            refs.days.textContent = \"00\";\n            refs.hours.textContent = \"00\";\n            refs.minutes.textContent = \"00\";\n            refs.seconds.textContent = \"00\";\n\n            refs.input.removeAttribute(\"disabled\");\n            return;\n        }\n\n        const { days, hours, minutes, seconds } = convertMs(ms);\n\n        refs.days.textContent = String(days).padStart(2, \"0\");\n        refs.hours.textContent = String(hours).padStart(2, \"0\");\n        refs.minutes.textContent = String(minutes).padStart(2, \"0\");\n        refs.seconds.textContent = String(seconds).padStart(2, \"0\");\n    }, 1000);\n});"],"names":["flatpickr","refs","countdownInterval","selectedDate","now","ms","days","hours","minutes","seconds","convertMs"],"mappings":"4IAMAA,EAAUC,EAAK,MAAOA,EAAK,OAAO,EAElC,IAAIC,EAEJD,EAAK,IAAI,aAAa,WAAY,EAAI,EAEtCA,EAAK,IAAI,iBAAiB,QAAS,IAAM,CACrC,MAAME,EAAeF,EAAK,QAAQ,iBAElC,GAAI,CAACE,GAAgBA,EAAa,QAAO,GAAM,KAAK,MAAO,CACvDF,EAAK,IAAI,aAAa,WAAY,EAAI,EACtC,MACH,CAEDA,EAAK,IAAI,aAAa,WAAY,EAAI,EACtCA,EAAK,MAAM,aAAa,WAAY,EAAI,EACxCA,EAAK,IAAI,MAAM,cAAgB,OAE/BC,EAAoB,YAAY,IAAM,CAClC,MAAME,EAAM,IAAI,KAAM,EAAC,QAAO,EACxBC,EAAKF,EAAeC,EAE1B,GAAIC,GAAM,EAAG,CACT,cAAcH,CAAiB,EAC/BD,EAAK,KAAK,YAAc,KACxBA,EAAK,MAAM,YAAc,KACzBA,EAAK,QAAQ,YAAc,KAC3BA,EAAK,QAAQ,YAAc,KAE3BA,EAAK,MAAM,gBAAgB,UAAU,EACrC,MACH,CAED,KAAM,CAAE,KAAAK,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAE,EAEtDJ,EAAK,KAAK,YAAc,OAAOK,CAAI,EAAE,SAAS,EAAG,GAAG,EACpDL,EAAK,MAAM,YAAc,OAAOM,CAAK,EAAE,SAAS,EAAG,GAAG,EACtDN,EAAK,QAAQ,YAAc,OAAOO,CAAO,EAAE,SAAS,EAAG,GAAG,EAC1DP,EAAK,QAAQ,YAAc,OAAOQ,CAAO,EAAE,SAAS,EAAG,GAAG,CAC7D,EAAE,GAAI,CACX,CAAC"}